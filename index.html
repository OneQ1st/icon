<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Icon Gallery</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .icon-card:active { transform: scale(0.95); }
    </style>
</head>
<body class="bg-slate-50 min-h-screen p-4 md:p-10">
    <div class="max-w-5xl mx-auto">
        <header class="mb-10 text-center">
            <h1 class="text-4xl font-extrabold text-slate-800 mb-2">My Icons</h1>
            <p class="text-slate-500">点击图标自动复制 Raw URL</p>
            <input type="text" id="search" placeholder="搜索图标..." class="mt-6 w-full max-w-md px-4 py-2 rounded-full border border-slate-200 shadow-sm focus:ring-2 focus:ring-blue-500 outline-none">
        </header>

        <div id="gallery" class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4">
            <div class="col-span-full text-center py-20 text-slate-400">正在同步图标数据...</div>
        </div>
    </div>

    <script>
        let iconData = [];
        const gallery = document.getElementById('gallery');

        // 加载数据
        fetch('icon.json')
            .then(r => r.json())
            .then(data => {
                iconData = data.icons;
                render(iconData);
            });

        // 渲染函数
        function render(list) {
            gallery.innerHTML = list.map(icon => `
                <div class="icon-card bg-white p-3 rounded-2xl shadow-sm hover:shadow-md transition-all cursor-pointer border border-slate-100 flex flex-col items-center" 
                     onclick="copy('${icon.url}')">
                    <img src="${icon.url}" class="w-12 h-12 object-contain mb-2">
                    <span class="text-[10px] text-slate-400 truncate w-full text-center">${icon.name}</span>
                </div>
            `).join('');
        }

        // 搜索功能
        document.getElementById('search').oninput = (e) => {
            const kw = e.target.value.toLowerCase();
            render(iconData.filter(i => i.name.toLowerCase().includes(kw)));
        };

        // 复制功能
        function copy(url) {
            navigator.clipboard.writeText(url);
            const tip = document.createElement('div');
            tip.className = "fixed top-5 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-full text-sm animate-bounce";
            tip.innerText = "已复制链接 ✅";
            document.body.appendChild(tip);
            setTimeout(() => tip.remove(), 1500);
        }
    </script>
</body>
</html>
